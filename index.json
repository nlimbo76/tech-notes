[{"content":"ê°œìš” í”Œë˜ì‹œ/ë¨ì´ ì‘ì€ IoT ë³´ë“œì—ì„œ 1KBê°€ ì œí’ˆ ê¸°ëŠ¥ í•˜ë‚˜ë¥¼ ì‚´ë¦¬ê¸°ë„ í•©ë‹ˆë‹¤.\nì•„ë˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì ìš©í•˜ë©´, ë¹Œë“œë§Œ ë°”ê¿”ë„ ìˆ˜~ìˆ˜ì‹­ % ì‚¬ì´ì¦ˆ ì ˆê°ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.\n1) ì»´íŒŒì¼ëŸ¬/ë§ì»¤ í”Œë˜ê·¸ ì»´íŒŒì¼: -Os -ffunction-sections -fdata-sections ë§ì»¤: -Wl,--gc-sections LTO: -flto (+ ë§ì»¤ê°€ LTO ëŒ€ì‘ì¸ì§€ í™•ì¸) C++: ì˜ˆì™¸/RTTI ë¹„í™œì„± â†’ -fno-exceptions -fno-rtti ë¡œê·¸ ë ˆë²¨ ë§¤í¬ë¡œë¡œ ë¦´ë¦¬ìŠ¤ì—ì„œ ë¡œê·¸ ì œê±°: #if LOG_LEVEL \u0026lt; INFO #define LOGI(...) ((void)0) #endif 2) í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ newlib-nano: -specs=nano.specs / -u _printf_float(í•„ìš”í•œ ê²½ìš°ì—ë§Œ float ì§€ì›) C++ iostream ëŒ€ì‹  printfë¥˜ ì‚¬ìš©(í•„ìš” ìµœì†Œí•œ). ë™ì í• ë‹¹ ìµœì†Œí™”: TLSF/ì •ì  í’€ ë“± ê³ ì •í• ë‹¹ì ê³ ë ¤. 3) ì½”ë“œ êµ¬ì¡°Â·ë°ì´í„° const ë°ì´í„°ëŠ” í”Œë˜ì‹œì—(í”Œë«í¼ ë§¤í¬ë¡œ/ì†ì„± í™œìš©: __attribute__((section(\u0026quot;.rodata\u0026quot;))) or PROGMEM). Look-up tableì€ ì••ì¶•/ì¶•ì†Œ(ì •ë°€ë„ ë‹¤ìš´ìƒ˜í”Œ) í›„ í•´ì œ. í° êµ¬ì¡°ì²´ëŠ” ë¹„íŠ¸í•„ë“œ/Packing, Align ë¹„ìš© ì ê²€. í…œí”Œë¦¿/ì¸ë¼ì¸ ë‚¨ìš© ìì œ(ROM íŒ½ì°½ ìœ ë°œ). 4) ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸/ì„¹ì…˜ ë¯¸ì‚¬ìš© ì„¹ì…˜ ì œê±°(--gc-sections)ê°€ ì‹¤ì œ ì ìš©ë˜ëŠ”ì§€ nm/objdumpë¡œ í™•ì¸. Start-up/ISR í…Œì´ë¸” ìµœì†Œí™”, ì•½ê²° ì‚¬ìš©(weak)ë¡œ ë¶ˆí•„ìš” í•¸ë“¤ëŸ¬ ì œê±°. ë¶€íŠ¸ë¡œë”/ì•± A/B íŒŒí‹°ì…˜ ì„¤ê³„ ì‹œ ì¤‘ë³µ ì½”ë“œë¥¼ ê³µìš©í™”. 5) ì¸¡ì • ë£¨í‹´ ë°”ì´ë„ˆë¦¬ í¬ê¸°: size firmware.elf ì„¹ì…˜ë³„: arm-none-eabi-size -A firmware.elf ê¸°ì—¬ë„ ë¶„ì„: nm --size-sort firmware.elf | tail / objdump -d ë³€ê²½ ì „í›„ ë¹„êµ ìŠ¤í¬ë¦½íŠ¸ë¡œ íšŒê·€ ê°ì‹œ. 6) ì‹¤ë¬´ íŒ ìµœì í™”ëŠ” ì¸¡ì •-ì ìš©-ì¬ì¸¡ì • ë£¨í”„. â€œê°â€ìœ¼ë¡œ í•˜ì§€ ë§ ê²ƒ. ê¸°ëŠ¥ í”Œë˜ê·¸(ì˜ˆ: FEATURE_X=ON/OFF)ë¡œ ì œí’ˆ ë³€í˜•ì„ ë¹Œë“œíƒ€ì„ ë¶„ê¸°. OTA/ë¡œê·¸ ë“± ìš´ì˜ ê¸°ëŠ¥ì€ í¬ê¸°Â·ì „ë ¥Â·ì„±ëŠ¥ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ëª…ì‹œ. ì²´í¬ë¦¬ìŠ¤íŠ¸ (ë³µë¶™í•´ì„œ ì“°ì„¸ìš”) -Os -ffunction-sections -fdata-sections -Wl,--gc-sections -flto + LTO í˜¸í™˜ ë§ì»¤ newlib-nano / printf float ìµœì†Œí™” ë¦´ë¦¬ìŠ¤ ë¡œê·¸ ì œê±° / ì˜ˆì™¸Â·RTTI ë¹„í™œì„± const ë°ì´í„° í”Œë˜ì‹œ ê³ ì • / LUT ìµœì í™” ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸ ê²€í†  / ë¯¸ì‚¬ìš© ISR ì œê±° size/nm/objdump ìë™ ë¦¬í¬íŒ… ì—°ê³„ ê¸€ (ì˜ˆì •) â€œë¶€íŠ¸ë¡œë” A/B + ì•ˆì „ ë¡¤ë°± ì„¤ê³„â€ â€œì—ë„ˆì§€ ì˜ˆì‚° ê¸°ë°˜ ìµœì í™”(ì „ë ¥Â·ì„±ëŠ¥Â·ë©”ëª¨ë¦¬ ê· í˜•)â€ ","permalink":"https://nlimbo76.github.io/tech-notes/posts/iot-binary-size-optimization/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eí”Œë˜ì‹œ/ë¨ì´ ì‘ì€ IoT ë³´ë“œì—ì„œ \u003cstrong\u003e1KBê°€ ì œí’ˆ ê¸°ëŠ¥ í•˜ë‚˜ë¥¼ ì‚´ë¦¬ê¸°ë„\u003c/strong\u003e í•©ë‹ˆë‹¤.\u003cbr\u003e\nì•„ë˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ì ìš©í•˜ë©´, ë¹Œë“œë§Œ ë°”ê¿”ë„ \u003cstrong\u003eìˆ˜~ìˆ˜ì‹­ %\u003c/strong\u003e ì‚¬ì´ì¦ˆ ì ˆê°ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"1-ì»´íŒŒì¼ëŸ¬ë§ì»¤-í”Œë˜ê·¸\"\u003e1) ì»´íŒŒì¼ëŸ¬/ë§ì»¤ í”Œë˜ê·¸\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eì»´íŒŒì¼: \u003ccode\u003e-Os -ffunction-sections -fdata-sections\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eë§ì»¤: \u003ccode\u003e-Wl,--gc-sections\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eLTO: \u003ccode\u003e-flto\u003c/code\u003e (+ ë§ì»¤ê°€ LTO ëŒ€ì‘ì¸ì§€ í™•ì¸)\u003c/li\u003e\n\u003cli\u003eC++: ì˜ˆì™¸/RTTI ë¹„í™œì„± â†’ \u003ccode\u003e-fno-exceptions -fno-rtti\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eë¡œê·¸ ë ˆë²¨ ë§¤í¬ë¡œë¡œ \u003cstrong\u003eë¦´ë¦¬ìŠ¤ì—ì„œ ë¡œê·¸ ì œê±°\u003c/strong\u003e:\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-c\" data-lang=\"c\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#if LOG_LEVEL \u0026lt; INFO\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#define LOGI(...) ((void)0)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"cp\"\u003e#endif\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"2-í‘œì¤€-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì„ íƒ\"\u003e2) í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003enewlib-nano\u003c/strong\u003e: \u003ccode\u003e-specs=nano.specs\u003c/code\u003e / \u003ccode\u003e-u _printf_float\u003c/code\u003e(í•„ìš”í•œ ê²½ìš°ì—ë§Œ float ì§€ì›)\u003c/li\u003e\n\u003cli\u003eC++ iostream ëŒ€ì‹  \u003ccode\u003eprintf\u003c/code\u003eë¥˜ ì‚¬ìš©(í•„ìš” ìµœì†Œí•œ).\u003c/li\u003e\n\u003cli\u003eë™ì í• ë‹¹ ìµœì†Œí™”: TLSF/ì •ì  í’€ ë“± \u003cstrong\u003eê³ ì •í• ë‹¹ì\u003c/strong\u003e ê³ ë ¤.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"3-ì½”ë“œ-êµ¬ì¡°ë°ì´í„°\"\u003e3) ì½”ë“œ êµ¬ì¡°Â·ë°ì´í„°\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003econst ë°ì´í„°ëŠ” í”Œë˜ì‹œì—\u003c/strong\u003e(í”Œë«í¼ ë§¤í¬ë¡œ/ì†ì„± í™œìš©: \u003ccode\u003e__attribute__((section(\u0026quot;.rodata\u0026quot;)))\u003c/code\u003e or \u003ccode\u003ePROGMEM\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eLook-up tableì€ \u003cstrong\u003eì••ì¶•/ì¶•ì†Œ(ì •ë°€ë„ ë‹¤ìš´ìƒ˜í”Œ)\u003c/strong\u003e í›„ í•´ì œ.\u003c/li\u003e\n\u003cli\u003eí° êµ¬ì¡°ì²´ëŠ” \u003cstrong\u003eë¹„íŠ¸í•„ë“œ\u003c/strong\u003e/Packing, Align ë¹„ìš© ì ê²€.\u003c/li\u003e\n\u003cli\u003eí…œí”Œë¦¿/ì¸ë¼ì¸ ë‚¨ìš© ìì œ(ROM íŒ½ì°½ ìœ ë°œ).\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"4-ë§ì»¤-ìŠ¤í¬ë¦½íŠ¸ì„¹ì…˜\"\u003e4) ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸/ì„¹ì…˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eë¯¸ì‚¬ìš© ì„¹ì…˜ ì œê±°(\u003ccode\u003e--gc-sections\u003c/code\u003e)ê°€ \u003cstrong\u003eì‹¤ì œ ì ìš©ë˜ëŠ”ì§€\u003c/strong\u003e \u003ccode\u003enm/objdump\u003c/code\u003eë¡œ í™•ì¸.\u003c/li\u003e\n\u003cli\u003eStart-up/ISR í…Œì´ë¸” ìµœì†Œí™”, ì•½ê²° ì‚¬ìš©(weak)ë¡œ ë¶ˆí•„ìš” í•¸ë“¤ëŸ¬ ì œê±°.\u003c/li\u003e\n\u003cli\u003eë¶€íŠ¸ë¡œë”/ì•± \u003cstrong\u003eA/B íŒŒí‹°ì…˜\u003c/strong\u003e ì„¤ê³„ ì‹œ ì¤‘ë³µ ì½”ë“œë¥¼ ê³µìš©í™”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"5-ì¸¡ì •-ë£¨í‹´\"\u003e5) ì¸¡ì • ë£¨í‹´\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eë°”ì´ë„ˆë¦¬ í¬ê¸°: \u003ccode\u003esize firmware.elf\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eì„¹ì…˜ë³„: \u003ccode\u003earm-none-eabi-size -A firmware.elf\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eê¸°ì—¬ë„ ë¶„ì„: \u003ccode\u003enm --size-sort firmware.elf | tail\u003c/code\u003e / \u003ccode\u003eobjdump -d\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eë³€ê²½ ì „í›„ ë¹„êµ ìŠ¤í¬ë¦½íŠ¸ë¡œ \u003cstrong\u003eíšŒê·€ ê°ì‹œ\u003c/strong\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"6-ì‹¤ë¬´-íŒ\"\u003e6) ì‹¤ë¬´ íŒ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eìµœì í™”ëŠ” \u003cstrong\u003eì¸¡ì •-ì ìš©-ì¬ì¸¡ì •\u003c/strong\u003e ë£¨í”„. â€œê°â€ìœ¼ë¡œ í•˜ì§€ ë§ ê²ƒ.\u003c/li\u003e\n\u003cli\u003eê¸°ëŠ¥ í”Œë˜ê·¸(ì˜ˆ: \u003ccode\u003eFEATURE_X=ON/OFF\u003c/code\u003e)ë¡œ \u003cstrong\u003eì œí’ˆ ë³€í˜•\u003c/strong\u003eì„ ë¹Œë“œíƒ€ì„ ë¶„ê¸°.\u003c/li\u003e\n\u003cli\u003eOTA/ë¡œê·¸ ë“± \u003cstrong\u003eìš´ì˜ ê¸°ëŠ¥\u003c/strong\u003eì€ í¬ê¸°Â·ì „ë ¥Â·ì„±ëŠ¥ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ëª…ì‹œ.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ì²´í¬ë¦¬ìŠ¤íŠ¸-ë³µë¶™í•´ì„œ-ì“°ì„¸ìš”\"\u003eì²´í¬ë¦¬ìŠ¤íŠ¸ (ë³µë¶™í•´ì„œ ì“°ì„¸ìš”)\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e \u003ccode\u003e-Os -ffunction-sections -fdata-sections -Wl,--gc-sections\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e \u003ccode\u003e-flto\u003c/code\u003e + LTO í˜¸í™˜ ë§ì»¤\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e newlib-nano / printf float ìµœì†Œí™”\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ë¦´ë¦¬ìŠ¤ ë¡œê·¸ ì œê±° / ì˜ˆì™¸Â·RTTI ë¹„í™œì„±\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e const ë°ì´í„° í”Œë˜ì‹œ ê³ ì • / LUT ìµœì í™”\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ë§ì»¤ ìŠ¤í¬ë¦½íŠ¸ ê²€í†  / ë¯¸ì‚¬ìš© ISR ì œê±°\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e \u003ccode\u003esize/nm/objdump\u003c/code\u003e ìë™ ë¦¬í¬íŒ…\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ì—°ê³„-ê¸€-ì˜ˆì •\"\u003eì—°ê³„ ê¸€ (ì˜ˆì •)\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eâ€œë¶€íŠ¸ë¡œë” A/B + ì•ˆì „ ë¡¤ë°± ì„¤ê³„â€\u003c/li\u003e\n\u003cli\u003eâ€œì—ë„ˆì§€ ì˜ˆì‚° ê¸°ë°˜ ìµœì í™”(ì „ë ¥Â·ì„±ëŠ¥Â·ë©”ëª¨ë¦¬ ê· í˜•)â€\u003c/li\u003e\n\u003c/ul\u003e","title":"IoT íƒ€ê¹ƒ ì†Œí˜•í™” ì „ëµ: ë°”ì´ë„ˆë¦¬Â·ë©”ëª¨ë¦¬ ìµœì í™” ì²´í¬ë¦¬ìŠ¤íŠ¸"},{"content":"ê°œìš” ê°€ë³ê³  ì´ì‹ì„± ë†’ì€ Unity + CMock ì¡°í•©ê³¼ CMake/CTestë¡œ â€œí˜¸ìŠ¤íŠ¸ì—ì„œ ë¹ ë¥¸ ìœ ë‹› í…ŒìŠ¤íŠ¸ â†’ ì„ íƒì  QEMU í†µí•© ìŠ¤ëª¨í¬â€ë¥¼ ë§Œë“œëŠ” ì‹¤ìŠµ ê°€ì´ë“œì…ë‹ˆë‹¤. í¬ë¡œìŠ¤ í™˜ê²½ ì˜ì¡´ì„ ìµœì†Œí™”í•˜ê³ , HIL ì „ì— ìµœëŒ€í•œ ë…¼ë¦¬ ë²„ê·¸ë¥¼ ì œê±°í•˜ëŠ” ê²Œ ëª©í‘œì…ë‹ˆë‹¤.\n1) í´ë” êµ¬ì¡°(ì˜ˆì‹œ) project/ â”œâ”€ src/ # ì œí’ˆ ì½”ë“œ â”œâ”€ include/ # í—¤ë” â”œâ”€ tests/ â”‚ â”œâ”€ unit/ # ìœ ë‹› í…ŒìŠ¤íŠ¸ â”‚ â””â”€ integration/ # í†µí•© í…ŒìŠ¤íŠ¸ (QEMU ìŠ¤ëª¨í¬ í¬í•¨) â”œâ”€ third_party/ â”‚ â”œâ”€ unity/ â”‚ â””â”€ cmock/ â””â”€ CMakeLists.txt 2) ì˜ì¡´ì„± (ê°„ë‹¨ ì„¤ì¹˜) # Unity \u0026amp; CMock ê°€ì ¸ì˜¤ê¸° (ì„œë¸Œëª¨ë“ˆ ê¶Œì¥) git submodule add https://github.com/ThrowTheSwitch/Unity third_party/unity git submodule add https://github.com/ThrowTheSwitch/CMock third_party/cmock 3) ìœ ë‹› í…ŒìŠ¤íŠ¸ ìƒ˜í”Œ src/ringbuf.cë¥¼ ì˜ˆë¡œ:\n// include/ringbuf.h #pragma once #include \u0026lt;stdint.h\u0026gt; typedef struct { uint8_t* buf; int cap, head, tail; } ringbuf_t; void rb_init(ringbuf_t* rb, uint8_t* mem, int cap); int rb_push(ringbuf_t* rb, uint8_t v); int rb_pop(ringbuf_t* rb, uint8_t* out); int rb_size(const ringbuf_t* rb); // tests/unit/test_ringbuf.c #include \u0026#34;unity.h\u0026#34; #include \u0026#34;ringbuf.h\u0026#34; static uint8_t mem[8]; static ringbuf_t rb; void setUp(void){ rb_init(\u0026amp;rb, mem, 8); } void tearDown(void){} void test_push_and_pop(void){ TEST_ASSERT_EQUAL_INT(0, rb_size(\u0026amp;rb)); TEST_ASSERT_TRUE(rb_push(\u0026amp;rb, 0x11)); TEST_ASSERT_EQUAL_INT(1, rb_size(\u0026amp;rb)); uint8_t v=0; TEST_ASSERT_TRUE(rb_pop(\u0026amp;rb, \u0026amp;v)); TEST_ASSERT_EQUAL_HEX8(0x11, v); } CMakeLists.txt(ìš”ì§€):\nadd_executable(test_ringbuf tests/unit/test_ringbuf.c src/ringbuf.c third_party/unity/src/unity.c ) target_include_directories(test_ringbuf PRIVATE include third_party/unity/src) add_test(NAME test_ringbuf COMMAND test_ringbuf) 4) CMockë¡œ HAL ëª¨í‚¹ í•˜ë“œì›¨ì–´ ì ‘ê·¼ í•¨ìˆ˜ê°€ ìˆëŠ” hal_uart.hë¥¼ ëª¨í‚¹:\n// include/hal_uart.h #pragma once int hal_uart_write(const char* data, int len); CMockë¡œ ëª¨ì˜ ìƒì„±(ë¹Œë“œ ìŠ¤í… or ì‚¬ì „ ìƒì„±):\nruby third_party/cmock/vendor/cmock/lib/cmock.rb -o config.yml include/hal_uart.h # â†’ mocks/Mockhal_uart.c, Mockhal_uart.h ìƒì„± í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©:\n#include \u0026#34;unity.h\u0026#34; #include \u0026#34;Mockhal_uart.h\u0026#34; // CMock ìƒì„± í—¤ë” #include \u0026#34;proto.h\u0026#34; // í…ŒìŠ¤íŠ¸ ëŒ€ìƒ void test_proto_send_hello(void){ hal_uart_write_ExpectAndReturn(\u0026#34;HELLO\u0026#34;, 5, 5); TEST_ASSERT_TRUE(proto_send_hello()); } 5) QEMUë¡œ í†µí•© ìŠ¤ëª¨í¬(ì˜µì…˜) ARM Cortex-M ê³„ì—´ì€ qemu-system-gnuarmeclipse ë˜ëŠ” qemu-system-arm ì‚¬ìš©. ë¶€íŒ… ë©”ì‹œì§€ / íŠ¹ì • ë ˆì§€ìŠ¤í„° ì´ˆê¸°í™” ì—¬ë¶€ ê²€ì¦ì²˜ëŸ¼ HIL ì „ ê°€ë²¼ìš´ ì—°ê¸°. ì˜ˆì‹œ(ì•„ì´ë””ì–´):\nqemu-system-arm -M stm32-p103 -kernel build/firmware.elf -nographic -serial stdio | tee qemu.log grep \u0026#34;Boot OK\u0026#34; qemu.log 6) CI íŒ ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” í˜¸ìŠ¤íŠ¸ ëŸ°íƒ€ì„ìœ¼ë¡œ ë¹ ë¥´ê²Œ(ì´ˆÂ·ë¶„ ë‹¨ìœ„). CMock ìƒì„±ì€ ìºì‹œí•˜ê±°ë‚˜ CIì—ì„œ Ruby ì„¸íŒ…ì„ ë„£ì–´ ë°˜ë³µ ì‹¤í–‰. QEMU ìŠ¤ëª¨í¬ëŠ” PR ë¼ë²¨/ê²½ë¡œ ì¡°ê±´ìœ¼ë¡œ ì„ íƒ ì‹¤í–‰. ë§ˆë¬´ë¦¬ ì²´í¬ HAL ê²½ìœ  \u0026amp; CMock ëª¨í‚¹ì´ ìì—°ìŠ¤ëŸ½ê²Œ ëŒì•„ê°€ëŠ”ê°€? ê²½ê³„ê°’(ë²„í¼/íƒ€ì´ë°ì•„ì›ƒ) í…ŒìŠ¤íŠ¸ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ê°€? ìœ ë‹› â†’ í†µí•© â†’ HILë¡œ ì ì§„ ê°•í™”ë˜ê³  ìˆëŠ”ê°€? ì—°ê³„ ê¸€ (ì˜ˆì •) â€œí…ŒìŠ¤íŠ¸ ë”ë¸” íŒ¨í„´ ëª¨ìŒ(Stub/Fake/Spy/Mock)ê³¼ C ì–¸ì–´ ì ìš©ë²•â€ ","permalink":"https://nlimbo76.github.io/tech-notes/posts/embedded-unit-integration-cmake/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eê°€ë³ê³  ì´ì‹ì„± ë†’ì€ \u003cstrong\u003eUnity + CMock\u003c/strong\u003e ì¡°í•©ê³¼ \u003cstrong\u003eCMake/CTest\u003c/strong\u003eë¡œ â€œí˜¸ìŠ¤íŠ¸ì—ì„œ ë¹ ë¥¸ ìœ ë‹› í…ŒìŠ¤íŠ¸ â†’ ì„ íƒì  QEMU í†µí•© ìŠ¤ëª¨í¬â€ë¥¼ ë§Œë“œëŠ” ì‹¤ìŠµ ê°€ì´ë“œì…ë‹ˆë‹¤. \u003cstrong\u003eí¬ë¡œìŠ¤ í™˜ê²½ ì˜ì¡´ì„ ìµœì†Œí™”\u003c/strong\u003eí•˜ê³ , \u003cstrong\u003eHIL ì „\u003c/strong\u003eì— ìµœëŒ€í•œ ë…¼ë¦¬ ë²„ê·¸ë¥¼ ì œê±°í•˜ëŠ” ê²Œ ëª©í‘œì…ë‹ˆë‹¤.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"1-í´ë”-êµ¬ì¡°ì˜ˆì‹œ\"\u003e1) í´ë” êµ¬ì¡°(ì˜ˆì‹œ)\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003eproject/\n â”œâ”€ src/                # ì œí’ˆ ì½”ë“œ\n â”œâ”€ include/            # í—¤ë”\n â”œâ”€ tests/\n â”‚   â”œâ”€ unit/           # ìœ ë‹› í…ŒìŠ¤íŠ¸\n â”‚   â””â”€ integration/    # í†µí•© í…ŒìŠ¤íŠ¸ (QEMU ìŠ¤ëª¨í¬ í¬í•¨)\n â”œâ”€ third_party/\n â”‚   â”œâ”€ unity/\n â”‚   â””â”€ cmock/\n â””â”€ CMakeLists.txt\n\u003c/code\u003e\u003c/pre\u003e\u003chr\u003e\n\u003ch2 id=\"2-ì˜ì¡´ì„±-ê°„ë‹¨-ì„¤ì¹˜\"\u003e2) ì˜ì¡´ì„± (ê°„ë‹¨ ì„¤ì¹˜)\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# Unity \u0026amp; CMock ê°€ì ¸ì˜¤ê¸° (ì„œë¸Œëª¨ë“ˆ ê¶Œì¥)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule add https://github.com/ThrowTheSwitch/Unity third_party/unity\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egit submodule add https://github.com/ThrowTheSwitch/CMock third_party/cmock\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"3-ìœ ë‹›-í…ŒìŠ¤íŠ¸-ìƒ˜í”Œ\"\u003e3) ìœ ë‹› í…ŒìŠ¤íŠ¸ ìƒ˜í”Œ\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003esrc/ringbuf.c\u003c/code\u003eë¥¼ ì˜ˆë¡œ:\u003c/p\u003e","title":"ì„ë² ë””ë“œ ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸ êµ¬ì¶• ì‹¤ìŠµ (Unity+CMock+CMake+QEMU)"},{"content":"ê°œìš” í•˜ë“œì›¨ì–´ ì œì•½ê³¼ ì‹¤ì‹œê°„ ìš”êµ¬ê°€ ìˆëŠ” ì„ë² ë””ë“œì—ì„œ í’ˆì§ˆì€ ì´ˆê¸° ì„¤ê³„ í’ˆì§ˆ + ìë™í™”ëœ ê²€ì¦ ì²´ê³„ë¡œ ê²°ì •ë©ë‹ˆë‹¤.\nì´ ê¸€ì€ â€œí…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ(ìœ ë‹›:í†µí•©:HIL â‰ˆ 70:20:10), í…ŒìŠ¤íŠ¸ ì¹œí™” ì„¤ê³„, CI íŒŒì´í”„ë¼ì¸â€ì„ ì¶•ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ë¬´ ì „ëµì„ ì •ë¦¬í•©ë‹ˆë‹¤.\n1) í•µì‹¬ ì „ëµ ìš”ì•½ í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ: ìœ ë‹›(ìµœë‹¤) â†’ í†µí•©(ì„ ë³„) â†’ HIL(ì„ê³„ê²½ë¡œ ìœ„ì£¼). í…ŒìŠ¤íŠ¸ ì¹œí™” ì„¤ê³„(Design for Testability): HAL(í•˜ë“œì›¨ì–´ ì¶”ìƒí™”)ë¡œ ì˜ì¡´ì„± ë¶„ë¦¬. ë§ì»¤ ëŒ€ì²´/ì•½ê²°(symbol weak), í•¨ìˆ˜ í¬ì¸í„° ì£¼ì…, ì¸í„°í˜ì´ìŠ¤(ports/adapters). ë¹Œë“œ ë¶„ë¦¬: Debug/Release/Test(í…ŒìŠ¤íŠ¸ ì „ìš© ì„¤ì •Â·ìŠ¤í… í—ˆìš©). CI íŒŒì´í”„ë¼ì¸: Host(Unit) í…ŒìŠ¤íŠ¸ + Coverage â†’ Cross ë¹Œë“œ ì‚°ì¶œë¬¼ â†’ (ì˜µì…˜) QEMU/HIL ìŠ¤ëª¨í¬. ì‹¤íŒ¨ ì‹œ ì•„í‹°íŒ©íŠ¸/ë¡œê·¸ ìë™ ì²¨ë¶€ë¡œ ë””ë²„ê¹… ì‹œê°„ ì ˆê°. 2) ë ˆë²¨ë³„ í…ŒìŠ¤íŠ¸ ì„¤ê³„ 2.1 ìœ ë‹› í…ŒìŠ¤íŠ¸ â€œì…ì¶œë ¥ ê²°ì •ì„±â€ì´ ë†’ì€ ìˆœì„œë¡œ ì‘ì„±. ìˆœìˆ˜ í•¨ìˆ˜ë¶€í„°. C ì–¸ì–´: Unity/CMock(ê°€ë²¼ì›€), C++: doctest/Catch2(ê²½ëŸ‰). GTestëŠ” ê¸°ëŠ¥ í’ë¶€í•˜ë‚˜ ìƒëŒ€ì ìœ¼ë¡œ ë¬´ê±°ì›€. ë§ì»¤ ì¹˜í™˜: -Wl,--wrap=fooë¡œ í•˜ë“œì›¨ì–´ ì˜ì¡´ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ ë”ë¸”ë¡œ ëŒ€ì²´. 2.2 í†µí•© í…ŒìŠ¤íŠ¸ ë“œë¼ì´ë²„+í”„ë¡œí† ì½œ ë“± ë‘ ëª¨ë“ˆ ì´ìƒ ê²°í•© ê²€ì¦. íƒ€ì´ë° ì°½ê³¼ ë²„í¼ ê²½ê³„(overflow/underflow) ì¼€ì´ìŠ¤ë¥¼ ëª…ì‹œ. ì‹œë¦¬ì–¼Â·SPI ë“±ì€ Loopback/Fake HALë¡œ ë¨¼ì € ê²€ì¦í•œ ë’¤ ì‹¤ì œ ë³´ë“œë¡œ ì¶•ì†Œ ì‹¤í–‰. 2.3 HIL(í•˜ë“œì›¨ì–´ ì¸ë”ë£¨í”„) ì„ê³„ê²½ë¡œë§Œ ì¶”ì¶œ: ë¶€íŒ…/ì•ˆì „ì •ì§€/íŒì›¨ì–´ ì—…ë°ì´íŠ¸/ì „ì›ìˆœí™˜. ìë™í™” ì¥ë¹„ ì—†ì´ë„ íŒŒì´ì¬(PySerial/pyvisa)ë¡œ ê°„ë‹¨í•œ ìŠ¤ëª¨í¬ëŠ” ê°€ëŠ¥. **ë¡¤ë°± ê°€ëŠ¥í•œ íŒì—…(OTA)**ì™€ Watchdog ìŠ¤í¬ë¦½íŠ¸í™”. 3) CMake + CTest + Coverage ì˜ˆì‹œ # CMakeLists.txt (í…ŒìŠ¤íŠ¸ ì „ìš©) enable_testing() add_executable(my_unit_tests tests/foo_test.c src/foo.c ) target_compile_options(my_unit_tests PRIVATE -O0 -g --coverage) target_link_libraries(my_unit_tests PRIVATE m gcov) add_test(NAME foo_test COMMAND my_unit_tests) # ì‹¤í–‰ \u0026amp; ì»¤ë²„ë¦¬ì§€ ctest --output-on-failure lcov --directory . --capture --output-file coverage.info genhtml coverage.info --output-directory coverage_html 4) GitHub Actions ë§¤íŠ¸ë¦­ìŠ¤(ìš”ì§€) jobs: test-build: runs-on: ubuntu-latest strategy: matrix: target: [host, arm-none-eabi] steps: - uses: actions/checkout@v4 with: { submodules: true } - name: Host test if: matrix.target == \u0026#39;host\u0026#39; run: | cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug cmake --build build -j ctest --test-dir build --output-on-failure - name: Cross build if: matrix.target == \u0026#39;arm-none-eabi\u0026#39; run: | cmake -S . -B build-arm -DCMAKE_TOOLCHAIN_FILE=toolchains/arm-none-eabi.cmake cmake --build build-arm -j 5) ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œëŠ” í•˜ë“œì›¨ì–´ ì ‘ê·¼ì„ ì§ì ‘ í•˜ì§€ ì•Šë„ë¡ HAL ê²½ìœ . íƒ€ì´ë° ì˜ì¡´ ë¡œì§ì€ í´ëŸ­/íƒ€ì´ë¨¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”. **ì •ì ë¶„ì„(compile warnings = 0, -Wall -Wextra -Werror)**ë¥¼ CIì— í¬í•¨. UBSan/ASanì€ Hostì—ì„œ ìµœëŒ€í•œ ì‚¬ìš©(ë² ì–´ë©”íƒˆì€ ì œí•œ). ì‹¤íŒ¨ ë¡œê·¸/ì•„í‹°íŒ©íŠ¸ë¥¼ CIì—ì„œ ìë™ ë³´ì¡´. ì—°ê³„ ê¸€ (ì˜ˆì •) â€œì„ë² ë””ë“œ ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸ êµ¬ì¶• ì‹¤ìŠµ (Unity+CMock+QEMU)â€ â€œHIL ìŠ¤ëª¨í¬ ìë™í™”: PySerialë¡œ ì‹œì‘í•˜ëŠ” ì „ì›ìˆœí™˜/ë¶€íŠ¸ ê²€ì¦â€ ","permalink":"https://nlimbo76.github.io/tech-notes/posts/embedded-test-strategy/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eí•˜ë“œì›¨ì–´ ì œì•½ê³¼ ì‹¤ì‹œê°„ ìš”êµ¬ê°€ ìˆëŠ” ì„ë² ë””ë“œì—ì„œ í’ˆì§ˆì€ \u003cstrong\u003eì´ˆê¸° ì„¤ê³„ í’ˆì§ˆ + ìë™í™”ëœ ê²€ì¦ ì²´ê³„\u003c/strong\u003eë¡œ ê²°ì •ë©ë‹ˆë‹¤.\u003cbr\u003e\nì´ ê¸€ì€ â€œ\u003cstrong\u003eí…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ\u003c/strong\u003e(ìœ ë‹›:í†µí•©:HIL â‰ˆ \u003cstrong\u003e70:20:10\u003c/strong\u003e), \u003cstrong\u003eí…ŒìŠ¤íŠ¸ ì¹œí™” ì„¤ê³„\u003c/strong\u003e, \u003cstrong\u003eCI íŒŒì´í”„ë¼ì¸\u003c/strong\u003eâ€ì„ ì¶•ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì‹¤ë¬´ ì „ëµì„ ì •ë¦¬í•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"1-í•µì‹¬-ì „ëµ-ìš”ì•½\"\u003e1) í•µì‹¬ ì „ëµ ìš”ì•½\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eí…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ\u003c/strong\u003e: ìœ ë‹›(ìµœë‹¤) â†’ í†µí•©(ì„ ë³„) â†’ HIL(ì„ê³„ê²½ë¡œ ìœ„ì£¼).\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eí…ŒìŠ¤íŠ¸ ì¹œí™” ì„¤ê³„(Design for Testability)\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eHAL(í•˜ë“œì›¨ì–´ ì¶”ìƒí™”)ë¡œ \u003cstrong\u003eì˜ì¡´ì„± ë¶„ë¦¬\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eë§ì»¤ ëŒ€ì²´/ì•½ê²°(symbol weak)\u003c/strong\u003e, \u003cstrong\u003eí•¨ìˆ˜ í¬ì¸í„° ì£¼ì…\u003c/strong\u003e, \u003cstrong\u003eì¸í„°í˜ì´ìŠ¤(ports/adapters)\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eë¹Œë“œ ë¶„ë¦¬: \u003ccode\u003eDebug/Release/Test\u003c/code\u003e(í…ŒìŠ¤íŠ¸ ì „ìš© ì„¤ì •Â·ìŠ¤í… í—ˆìš©).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eCI íŒŒì´í”„ë¼ì¸\u003c/strong\u003e:\n\u003cul\u003e\n\u003cli\u003eHost(Unit) í…ŒìŠ¤íŠ¸ + Coverage â†’ Cross ë¹Œë“œ ì‚°ì¶œë¬¼ â†’ (ì˜µì…˜) QEMU/HIL ìŠ¤ëª¨í¬.\u003c/li\u003e\n\u003cli\u003eì‹¤íŒ¨ ì‹œ \u003cstrong\u003eì•„í‹°íŒ©íŠ¸/ë¡œê·¸\u003c/strong\u003e ìë™ ì²¨ë¶€ë¡œ ë””ë²„ê¹… ì‹œê°„ ì ˆê°.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"2-ë ˆë²¨ë³„-í…ŒìŠ¤íŠ¸-ì„¤ê³„\"\u003e2) ë ˆë²¨ë³„ í…ŒìŠ¤íŠ¸ ì„¤ê³„\u003c/h2\u003e\n\u003ch3 id=\"21-ìœ ë‹›-í…ŒìŠ¤íŠ¸\"\u003e2.1 ìœ ë‹› í…ŒìŠ¤íŠ¸\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eâ€œì…ì¶œë ¥ ê²°ì •ì„±â€ì´ ë†’ì€ ìˆœì„œë¡œ ì‘ì„±. \u003cstrong\u003eìˆœìˆ˜ í•¨ìˆ˜\u003c/strong\u003eë¶€í„°.\u003c/li\u003e\n\u003cli\u003eC ì–¸ì–´: Unity/CMock(ê°€ë²¼ì›€), C++: doctest/Catch2(ê²½ëŸ‰). GTestëŠ” ê¸°ëŠ¥ í’ë¶€í•˜ë‚˜ ìƒëŒ€ì ìœ¼ë¡œ ë¬´ê±°ì›€.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eë§ì»¤ ì¹˜í™˜\u003c/strong\u003e: \u003ccode\u003e-Wl,--wrap=foo\u003c/code\u003eë¡œ í•˜ë“œì›¨ì–´ ì˜ì¡´ í•¨ìˆ˜ë¥¼ í…ŒìŠ¤íŠ¸ ë”ë¸”ë¡œ ëŒ€ì²´.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"22-í†µí•©-í…ŒìŠ¤íŠ¸\"\u003e2.2 í†µí•© í…ŒìŠ¤íŠ¸\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë“œë¼ì´ë²„+í”„ë¡œí† ì½œ ë“± \u003cstrong\u003eë‘ ëª¨ë“ˆ ì´ìƒ ê²°í•©\u003c/strong\u003e ê²€ì¦.\u003c/li\u003e\n\u003cli\u003eíƒ€ì´ë° ì°½ê³¼ ë²„í¼ ê²½ê³„(overflow/underflow) ì¼€ì´ìŠ¤ë¥¼ ëª…ì‹œ.\u003c/li\u003e\n\u003cli\u003eì‹œë¦¬ì–¼Â·SPI ë“±ì€ \u003cstrong\u003eLoopback/Fake HAL\u003c/strong\u003eë¡œ ë¨¼ì € ê²€ì¦í•œ ë’¤ ì‹¤ì œ ë³´ë“œë¡œ ì¶•ì†Œ ì‹¤í–‰.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"23-hilí•˜ë“œì›¨ì–´-ì¸ë”ë£¨í”„\"\u003e2.3 HIL(í•˜ë“œì›¨ì–´ ì¸ë”ë£¨í”„)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eì„ê³„ê²½ë¡œ\u003c/strong\u003eë§Œ ì¶”ì¶œ: ë¶€íŒ…/ì•ˆì „ì •ì§€/íŒì›¨ì–´ ì—…ë°ì´íŠ¸/ì „ì›ìˆœí™˜.\u003c/li\u003e\n\u003cli\u003eìë™í™” ì¥ë¹„ ì—†ì´ë„ íŒŒì´ì¬(PySerial/pyvisa)ë¡œ ê°„ë‹¨í•œ \u003cstrong\u003eìŠ¤ëª¨í¬\u003c/strong\u003eëŠ” ê°€ëŠ¥.\u003c/li\u003e\n\u003cli\u003e**ë¡¤ë°± ê°€ëŠ¥í•œ íŒì—…(OTA)**ì™€ \u003cstrong\u003eWatchdog\u003c/strong\u003e ìŠ¤í¬ë¦½íŠ¸í™”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"3-cmake--ctest--coverage-ì˜ˆì‹œ\"\u003e3) CMake + CTest + Coverage ì˜ˆì‹œ\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-cmake\" data-lang=\"cmake\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e# CMakeLists.txt (í…ŒìŠ¤íŠ¸ ì „ìš©)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eenable_testing\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eadd_executable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003emy_unit_tests\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"s\"\u003etests/foo_test.c\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e  \u003cspan class=\"s\"\u003esrc/foo.c\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003etarget_compile_options\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003emy_unit_tests\u003c/span\u003e \u003cspan class=\"s\"\u003ePRIVATE\u003c/span\u003e \u003cspan class=\"s\"\u003e-O0\u003c/span\u003e \u003cspan class=\"s\"\u003e-g\u003c/span\u003e \u003cspan class=\"s\"\u003e--coverage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003etarget_link_libraries\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003emy_unit_tests\u003c/span\u003e \u003cspan class=\"s\"\u003ePRIVATE\u003c/span\u003e \u003cspan class=\"s\"\u003em\u003c/span\u003e \u003cspan class=\"s\"\u003egcov\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"err\"\u003e\u003c/span\u003e\u003cspan class=\"nb\"\u003eadd_test\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003eNAME\u003c/span\u003e \u003cspan class=\"s\"\u003efoo_test\u003c/span\u003e \u003cspan class=\"s\"\u003eCOMMAND\u003c/span\u003e \u003cspan class=\"s\"\u003emy_unit_tests\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-bash\" data-lang=\"bash\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"c1\"\u003e# ì‹¤í–‰ \u0026amp; ì»¤ë²„ë¦¬ì§€\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003ectest --output-on-failure\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003elcov --directory . --capture --output-file coverage.info\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003egenhtml coverage.info --output-directory coverage_html\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"4-github-actions-ë§¤íŠ¸ë¦­ìŠ¤ìš”ì§€\"\u003e4) GitHub Actions ë§¤íŠ¸ë¦­ìŠ¤(ìš”ì§€)\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-yaml\" data-lang=\"yaml\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"nt\"\u003ejobs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"nt\"\u003etest-build\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e    \u003c/span\u003e\u003cspan class=\"nt\"\u003eruns-on\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003eubuntu-latest\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e    \u003c/span\u003e\u003cspan class=\"nt\"\u003estrategy\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e      \u003c/span\u003e\u003cspan class=\"nt\"\u003ematrix\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"l\"\u003ehost, arm-none-eabi]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e    \u003c/span\u003e\u003cspan class=\"nt\"\u003esteps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e      \u003c/span\u003e- \u003cspan class=\"nt\"\u003euses\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003eactions/checkout@v4\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003ewith\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e{\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nt\"\u003esubmodules\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e}\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e      \u003c/span\u003e- \u003cspan class=\"nt\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003eHost test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003ematrix.target == \u0026#39;host\u0026#39;\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"sd\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sd\"\u003e          cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sd\"\u003e          cmake --build build -j\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sd\"\u003e          ctest --test-dir build --output-on-failure\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e      \u003c/span\u003e- \u003cspan class=\"nt\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003eCross build\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"l\"\u003ematrix.target == \u0026#39;arm-none-eabi\u0026#39;\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"nt\"\u003erun\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e\u003cspan class=\"sd\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sd\"\u003e          cmake -S . -B build-arm -DCMAKE_TOOLCHAIN_FILE=toolchains/arm-none-eabi.cmake\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"sd\"\u003e          cmake --build build-arm -j\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003chr\u003e\n\u003ch2 id=\"5-ì‹¤ë¬´-ì²´í¬ë¦¬ìŠ¤íŠ¸\"\u003e5) ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì½”ë“œëŠ” \u003cstrong\u003eí•˜ë“œì›¨ì–´ ì ‘ê·¼ì„ ì§ì ‘ í•˜ì§€ ì•Šë„ë¡\u003c/strong\u003e HAL ê²½ìœ .\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e íƒ€ì´ë° ì˜ì¡´ ë¡œì§ì€ \u003cstrong\u003eí´ëŸ­/íƒ€ì´ë¨¸ ì¸í„°í˜ì´ìŠ¤\u003c/strong\u003eë¡œ ì¶”ìƒí™”.\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e **ì •ì ë¶„ì„(compile warnings = 0, -Wall -Wextra -Werror)**ë¥¼ CIì— í¬í•¨.\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e \u003cstrong\u003eUBSan/ASan\u003c/strong\u003eì€ Hostì—ì„œ ìµœëŒ€í•œ ì‚¬ìš©(ë² ì–´ë©”íƒˆì€ ì œí•œ).\u003c/li\u003e\n\u003cli\u003e\u003cinput disabled=\"\" type=\"checkbox\"\u003e ì‹¤íŒ¨ ë¡œê·¸/ì•„í‹°íŒ©íŠ¸ë¥¼ CIì—ì„œ ìë™ ë³´ì¡´.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ì—°ê³„-ê¸€-ì˜ˆì •\"\u003eì—°ê³„ ê¸€ (ì˜ˆì •)\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eâ€œì„ë² ë””ë“œ ìœ ë‹›/í†µí•© í…ŒìŠ¤íŠ¸ êµ¬ì¶• ì‹¤ìŠµ (Unity+CMock+QEMU)â€\u003c/li\u003e\n\u003cli\u003eâ€œHIL ìŠ¤ëª¨í¬ ìë™í™”: PySerialë¡œ ì‹œì‘í•˜ëŠ” ì „ì›ìˆœí™˜/ë¶€íŠ¸ ê²€ì¦â€\u003c/li\u003e\n\u003c/ul\u003e","title":"ì„ë² ë””ë“œ ì½”ë“œ í’ˆì§ˆ ê°œì„ ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì „ëµ (ì •ë¦¬íŒ)"},{"content":"ê°œìš” ì„ë² ë””ë“œ ì‹œìŠ¤í…œ ê°œë°œì€ ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë‹¬ë¦¬ **ìì› ì œì•½(ë©”ëª¨ë¦¬Â·CPUÂ·ì „ë ¥)**ê³¼ ì‹¤ì‹œê°„ì„±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ê°œë°œ ë°©ë²•ë¡  ì„ íƒì´ í”„ë¡œì íŠ¸ì˜ ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ í¬ê²Œ ì¢Œìš°í•©ë‹ˆë‹¤. ë³¸ ë¬¸ì„œëŠ” ì‹¤ë¬´ ì •ë¦¬ë…¸íŠ¸ ìŠ¤íƒ€ì¼ë¡œ í•µì‹¬ ê°œë…ì„ ë¨¼ì € ìš”ì•½í•˜ê³ , ì•„ë˜ì— ë¶€ì—° ì„¤ëª…ê³¼ ì—°ê³„ ê¸€ ë§í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\n1) ì „í†µì  ê°œë°œ ë°©ë²•ë¡  ì›Œí„°í´ ëª¨ë¸ â€” í•µì‹¬ ìš”ì•½ ìš”êµ¬ì‚¬í•­ â†’ ì„¤ê³„ â†’ êµ¬í˜„ â†’ ê²€ì¦ â†’ ìœ ì§€ë³´ìˆ˜ ìˆœì˜ ì§ì„ ì  ë‹¨ê³„ ì§„í–‰ ì¥ì : ë¬¸ì„œí™”/ì´ë ¥ ê´€ë¦¬ ìš©ì´, í•˜ë“œì›¨ì–´ ê·œê²©ì´ ê³ ì •ëœ í”„ë¡œì íŠ¸ì— ìœ ë¦¬ ë‹¨ì : ìš”êµ¬ì‚¬í•­ ë³€ê²½ì— ì·¨ì•½, í™˜ê²½ ë³€ë™ì„± ë°˜ì˜ ì–´ë ¤ì›€ ë¶€ì—° ì„¤ëª… í•˜ë“œì›¨ì–´(SoC/MCU/ì„¼ì„œ)ê°€ ì–¼ë¦¬-ë½ëœ ìƒí™©ì—ì„œ ê³µì •/ì–‘ì‚° ê´€ì ìœ¼ë¡œ ì¶”ì§„í•  ë•Œ íŠ¹íˆ ì•ˆì •ì ì…ë‹ˆë‹¤. ë‹¤ë§Œ IoTì²˜ëŸ¼ ìš”êµ¬ì‚¬í•­ì´ ìì£¼ ë°”ë€ŒëŠ” ê²½ìš°ì—ëŠ” ì´ˆê¸° ì„¤ê³„ë¥¼ ê³¼ë„í•˜ê²Œ ê²¬ê³ í•˜ê²Œ ë§Œë“œëŠ” ì‹¤ìˆ˜ë¥¼ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\nV-ëª¨ë¸ â€” í•µì‹¬ ìš”ì•½ ì›Œí„°í´ í™•ì¥í˜•: ê° ì„¤ê³„ ë‹¨ê³„ì— ìƒì‘í•˜ëŠ” ê²€ì¦ ë‹¨ê³„ê°€ 1:1ë¡œ ë§¤ì¹­ ì¥ì : ì„¤ê³„-ê²€ì¦ íŠ¸ë ˆì´ìŠ¤ê°€ ì„ ëª…, ì•ˆì „/ê·œì œ ì‚°ì—…ì— ì í•© ë‹¨ì : ì´ˆê¸° ì„¤ê³„ ì˜¤ë¥˜ê°€ ë’¤ëŠ¦ê²Œ ë°œê²¬ë˜ë©´ ë¹„ìš© í¼ ë¶€ì—° ì„¤ëª… ìë™ì°¨ ECU, ì˜ë£Œê¸°ê¸° ë“±ì—ì„œëŠ” ìš”êµ¬ì‚¬í•­â†’ì‹œìŠ¤í…œì„¤ê³„â†’SW/HWì„¤ê³„ ë‹¨ê³„ê°€ í…ŒìŠ¤íŠ¸ ê³„íšê³¼ í•¨ê»˜ ë™ë°˜ë©ë‹ˆë‹¤. â€œí†µí•© ì„¤ê³„ â†” í†µí•© í…ŒìŠ¤íŠ¸â€, â€œì½”ë“œ êµ¬í˜„ â†” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸â€ì²˜ëŸ¼ ì¢Œìš°ê°€ ëŒ€ì‘í•©ë‹ˆë‹¤.\n2) í˜„ëŒ€ì  ê°œë°œ ë°©ë²•ë¡  ì• ìì¼(Agile) â€” í•µì‹¬ ìš”ì•½ ë°˜ë³µ/ì ì§„ ê°œë°œë¡œ ë³€í™” ìˆ˜ìš©ì„±ì„ ê·¹ëŒ€í™” ì¥ì : í”„ë¡œí† íƒ€ì´í•‘Â·ì‹œì¥ ê²€ì¦ì´ ë¹ ë¥¸ ì œí’ˆì— ì í•© ì‹¤ë¬´ íŒ: Sprintë§ˆë‹¤ í¬ë¡œìŠ¤ ì»´íŒŒì¼Â·íŒì›¨ì–´ ë°°í¬Â·ë³´ë“œ í…ŒìŠ¤íŠ¸ë¥¼ CIë¡œ ìë™í™” ë¶€ì—° ì„¤ëª… í•˜ë“œì›¨ì–´ í”Œë˜ì‹±/ë¦¬ê·¸ ì„¸íŒ…ì´ ë³‘ëª©ì´ ë˜ê¸° ì‰¬ìš°ë¯€ë¡œ,\níŒì›¨ì–´ ë²„ì „ íƒœê¹…, ìë™ ì•„í‹°íŒ©íŠ¸ ì—…ë¡œë“œ HIL(í•˜ë“œì›¨ì–´-in-the-loop) í…ŒìŠ¤íŠ¸ ì¼ë¶€ ìë™í™” ì‹¤íŒ¨ ì‹œ ë³´ë“œ ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸ ê°™ì€ ë³´ì¡° ì¥ì¹˜ë¥¼ í•¨ê»˜ ì¤€ë¹„í•˜ë©´ ì• ìì¼ì˜ ê°•ì ì„ ì‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ ê¸°ë°˜ ê°œë°œ(MBD) â€” í•µì‹¬ ìš”ì•½ ëª¨ë¸(ì˜ˆ: Simulink)ë¡œ ì„¤ê³„Â·ì‹œë®¬ë ˆì´ì…˜ í›„ ì½”ë“œ ìë™ìƒì„± ì¥ì : ì œì–´ ì•Œê³ ë¦¬ì¦˜ ê°œë°œ/ê²€ì¦ íš¨ìœ¨ì , ì´ˆê¸° ê²°í•¨ ì¡°ê¸° ë°œê²¬ ì ìš©: ë¡œë³´í‹±ìŠ¤, ë“œë¡ , íŒŒì›Œ ì¼ë ‰íŠ¸ë¡œë‹‰ìŠ¤ ë“± ë¶€ì—° ì„¤ëª… ì˜ˆ) ë“œë¡  ê³ ë„ ì œì–´ PIDë¥¼ ëª¨ë¸ë¡œ ê²€ì¦ â†’ ì½”ë“œ ìë™ìƒì„± â†’ STM32/ESP32 í¬íŒ…. ëª¨ë¸-ì½”ë“œ ì¶”ì ì„± í™•ë³´ì™€ ì˜¤í† ì½”ë“œ ë£° ì²´í¬(ì½”ë”© ê°€ì´ë“œ ì¤€ìˆ˜)ê°€ í¬ì¸íŠ¸ì…ë‹ˆë‹¤.\n3) í’ˆì§ˆ ë³´ì¦ê³¼ í…ŒìŠ¤íŠ¸ ì—°ê²° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: ë“œë¼ì´ë²„Â·ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¨ìœ„ ê¸°ëŠ¥ ê²€ì¦ í†µí•© í…ŒìŠ¤íŠ¸: ë³´ë“œ ì…ì¶œë ¥(UART/SPI/I2C/GPIO)ê³¼ ìƒìœ„ ë¡œì§ ê²°í•© ê²€ì¦ CI/CD: í¬ë¡œìŠ¤ ì»´íŒŒì¼ â†’ íŒì›¨ì–´ ì‚°ì¶œë¬¼ ë²„ì „ì²´ê³„ â†’ ìë™ í”Œë˜ì‹±/ìŠ¤ëª¨í¬ í…ŒìŠ¤íŠ¸ ğŸ‘‰ ë‹¤ìŒ í¸ ì˜ˆê³ : ì„ë² ë””ë“œ ì½”ë“œ í’ˆì§ˆ ê°œì„ ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ ì „ëµ\n4) ì„ íƒ ê°€ì´ë“œ ìš”ì•½ í•˜ë“œì›¨ì–´ ë³€ê²½ ì ê³  ê·œê²© ê³ ì • â†’ V-ëª¨ë¸/ì›Œí„°í´ ë¹ ë¥¸ ì¶œì‹œÂ·ìš”êµ¬ ë³€ê²½ ë§ìŒ â†’ ì• ìì¼ ì œì–´/ì•ˆì „ ì¤‘ìš” â†’ MBD í˜„ì‹¤ì ìœ¼ë¡œëŠ” í•˜ì´ë¸Œë¦¬ë“œê°€ ìµœì„ : ì´ˆê¸° ìš”êµ¬/ì•„í‚¤í…ì²˜ëŠ” V-ëª¨ë¸, ê¸°ëŠ¥ í™•ì¥ì€ ì• ìì¼, ì œì–´ëŠ” MBD. ì—°ê³„ í˜ì´ì§€ (ì‘ì„± ì˜ˆì •) ì„ë² ë””ë“œ ìš”êµ¬ì‚¬í•­ ì •ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì„ë² ë””ë“œ CI/CD í™˜ê²½ êµ¬ì¶• ê°€ì´ë“œ ìë™ì°¨ ECU ê°œë°œê³¼ V-ëª¨ë¸ ì‚¬ë¡€ MBDì™€ ì½”ë“œ ìë™ ìƒì„± ì‚¬ë¡€ ","permalink":"https://nlimbo76.github.io/tech-notes/posts/embedded-methodology/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eì„ë² ë””ë“œ ì‹œìŠ¤í…œ ê°œë°œì€ ì¼ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë‹¬ë¦¬ **ìì› ì œì•½(ë©”ëª¨ë¦¬Â·CPUÂ·ì „ë ¥)**ê³¼ \u003cstrong\u003eì‹¤ì‹œê°„ì„±\u003c/strong\u003eì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.\nì´ ë•Œë¬¸ì— ê°œë°œ ë°©ë²•ë¡  ì„ íƒì´ í”„ë¡œì íŠ¸ì˜ ì„±ê³µê³¼ ì‹¤íŒ¨ë¥¼ í¬ê²Œ ì¢Œìš°í•©ë‹ˆë‹¤.\në³¸ ë¬¸ì„œëŠ” ì‹¤ë¬´ ì •ë¦¬ë…¸íŠ¸ ìŠ¤íƒ€ì¼ë¡œ í•µì‹¬ ê°œë…ì„ ë¨¼ì € ìš”ì•½í•˜ê³ , ì•„ë˜ì— ë¶€ì—° ì„¤ëª…ê³¼ ì—°ê³„ ê¸€ ë§í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"1-ì „í†µì -ê°œë°œ-ë°©ë²•ë¡ \"\u003e1) ì „í†µì  ê°œë°œ ë°©ë²•ë¡ \u003c/h2\u003e\n\u003ch3 id=\"ì›Œí„°í´-ëª¨ë¸--í•µì‹¬-ìš”ì•½\"\u003eì›Œí„°í´ ëª¨ë¸ â€” í•µì‹¬ ìš”ì•½\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eìš”êµ¬ì‚¬í•­ â†’ ì„¤ê³„ â†’ êµ¬í˜„ â†’ ê²€ì¦ â†’ ìœ ì§€ë³´ìˆ˜ ìˆœì˜ ì§ì„ ì  ë‹¨ê³„ ì§„í–‰\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eì¥ì :\u003c/strong\u003e ë¬¸ì„œí™”/ì´ë ¥ ê´€ë¦¬ ìš©ì´, í•˜ë“œì›¨ì–´ ê·œê²©ì´ ê³ ì •ëœ í”„ë¡œì íŠ¸ì— ìœ ë¦¬\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eë‹¨ì :\u003c/strong\u003e ìš”êµ¬ì‚¬í•­ ë³€ê²½ì— ì·¨ì•½, í™˜ê²½ ë³€ë™ì„± ë°˜ì˜ ì–´ë ¤ì›€\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eë¶€ì—° ì„¤ëª…\u003c/strong\u003e\ní•˜ë“œì›¨ì–´(SoC/MCU/ì„¼ì„œ)ê°€ ì–¼ë¦¬-ë½ëœ ìƒí™©ì—ì„œ ê³µì •/ì–‘ì‚° ê´€ì ìœ¼ë¡œ ì¶”ì§„í•  ë•Œ íŠ¹íˆ ì•ˆì •ì ì…ë‹ˆë‹¤.\në‹¤ë§Œ IoTì²˜ëŸ¼ ìš”êµ¬ì‚¬í•­ì´ ìì£¼ ë°”ë€ŒëŠ” ê²½ìš°ì—ëŠ” ì´ˆê¸° ì„¤ê³„ë¥¼ ê³¼ë„í•˜ê²Œ ê²¬ê³ í•˜ê²Œ ë§Œë“œëŠ” ì‹¤ìˆ˜ë¥¼ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\u003c/p\u003e","title":"ì„ë² ë””ë“œ ì‹œìŠ¤í…œ ê°œë°œ ë°©ë²•ë¡  ì •ë¦¬ (í™•ì¥íŒ)"}]